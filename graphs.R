
# Second graph ------------------------------------------------------------

library(tidyverse)
library(fs)
library(tidytext)
library(plotly)


# test graph --------------------------------------------------------------

headlines_tok %>% 
  

see <- headlines_tok %>% 
  group_by(time, word) %>% 
  count(word, sort = TRUE, name = "n") 


## first graph

p <- see %>% 
  filter(word == "christmas" | word == "covid" | word == "omicron" | word == "2021" | word == "home" |
         word == "party" | word == "f1" | word == "city" | word == "life" | word == "sex") %>% 
  ggplot(aes(x = time, y = n, group = word, colour = word)) +
  geom_line() +
  labs(title = "The frequency of the 10 most used deadlines, all newspapers") +
  ylab("Frequency") +
  xlab("Date") +
  scale_x_discrete(labels = c("2021-12-09-00-01-58"="Dec\n 9",  "2021-12-09-04-01-37"= "", "2021-12-09-08-01-21"= "", "2021-12-09-12-01-27"= "", "2021-12-09-16-01-24" = "", "2021-12-09-20-01-54" = "",
                              "2021-12-10-00-01-51"="Dec\n 10", "2021-12-10-04-01-37"= "", "2021-12-10-08-01-15"= "", "2021-12-10-12-01-29"= "", "2021-12-10-16-02-11" = "", "2021-12-10-20-01-28" = "", 
                              "2021-12-11-00-01-39"="Dec\n 11", "2021-12-11-04-01-51"= "", "2021-12-11-08-01-28"= "", "2021-12-11-12-01-32"= "", "2021-12-11-16-02-28" = "", "2021-12-11-20-01-38" = "",
                              "2021-12-12-00-01-28"="Dec\n 12", "2021-12-12-04-01-25"= "", "2021-12-12-08-01-14"= "", "2021-12-12-12-01-26"= "", "2021-12-12-16-01-27" = "", "2021-12-12-20-01-45" = "",
                              "2021-12-13-00-01-47"="Dec\n 13", "2021-12-13-04-01-19"= "", "2021-12-13-08-01-22"= "", "2021-12-13-12-01-25"= "", "2021-12-13-16-01-32" = "", "2021-12-13-20-01-28" = "",
                              "2021-12-14-00-02-06"="Dec\n 14", "2021-12-14-04-01-58"= "", "2021-12-14-08-01-30"= "", "2021-12-14-12-01-57"= "", "2021-12-14-16-02-10" = "", "2021-12-14-20-01-33" = "",
                              "2021-12-15-00-01-35"="Dec\n 15", "2021-12-15-04-01-28"= "", "2021-12-15-08-01-29"= "", "2021-12-15-12-01-34"= "", "2021-12-15-16-01-52" = "", "2021-12-15-20-01-35" = "")) +
  theme(axis.ticks = element_blank()) +
  theme_minimal()
                              
                              
                              
                              
                              
                       

ggplotly(p)








